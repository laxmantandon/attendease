var p=(s,o,n)=>new Promise((_,e)=>{var m=l=>{try{u(n.next(l))}catch(c){e(c)}},d=l=>{try{u(n.throw(l))}catch(c){e(c)}},u=l=>l.done?_(l.value):Promise.resolve(l.value).then(m,d);u((n=n.apply(s,o)).next())});import{_ as V,a as b,r,o as y,c as I,w as i,b as a,d as h,e as f,t as q}from"./index-de3e4a8d.js";const C={data(){return{snack:!1,snackColor:"",snackText:"",show1:!1,email:null,password:null,valid:!0,name:"",emailRules:[s=>!!s||"Email Id is required",s=>/^[a-z.-]+@[a-z.-]+\.[a-z]+$/i.test(s)||"Invalid Email Id"],passRules:[s=>!!s||"Password is required"],select:null,items:["Item 1","Item 2","Item 3","Item 4"],checkbox:!1}},inject:["$auth"],mounted(){return p(this,null,function*(){var s,o;(o=(s=this.$route)==null?void 0:s.query)!=null&&o.route&&(this.redirect_route=this.$route.query.route,this.$router.replace({query:null}))})},methods:{login(){return p(this,null,function*(){const{valid:s}=yield this.$refs.form.validate();if(s&&this.email&&this.password){let o={usr:this.email,pwd:this.password};yield b.post("/api/method/login",o).then(n=>{n.status===200&&(this.snack=!0,this.snackColor="green",this.snackText="Login Success",this.$auth.isLoggedIn=!0,this.$router.push({name:"Home"}))}).catch(n=>{this.snack=!0,this.snackColor="red",this.snackText=n.response.data.message})}})}}},T=h("h1",null,"Sign In",-1),L={class:"d-flex flex-column"};function R(s,o,n,_,e,m){const d=r("v-text-field"),u=r("v-checkbox"),l=r("v-btn"),c=r("v-form"),v=r("v-sheet"),k=r("v-col"),x=r("v-row"),w=r("v-snackbar"),g=r("v-container");return y(),I(g,{fluid:"","fill-height":"",class:"mt-10"},{default:i(()=>[a(x,{justify:"center",align:"center"},{default:i(()=>[a(k,{cols:"12",xs:"11",sm:"10",md:"6",lg:"4",xl:"6"},{default:i(()=>[a(v,{elevation:"10",class:"ma-6 pa-6",rounded:"lg"},{default:i(()=>[T,a(c,{ref:"form"},{default:i(()=>[a(d,{variant:"outlined",modelValue:e.email,"onUpdate:modelValue":o[0]||(o[0]=t=>e.email=t),rules:e.emailRules,label:"Email",required:"","append-inner-icon":"mdi-account"},null,8,["modelValue","rules"]),a(d,{variant:"outlined",modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=t=>e.password=t),rules:e.passRules,label:"Password","append-inner-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password","onClick:appendInner":o[2]||(o[2]=t=>e.show1=!e.show1),required:""},null,8,["modelValue","rules","append-inner-icon","type"]),a(u,{modelValue:e.checkbox,"onUpdate:modelValue":o[3]||(o[3]=t=>e.checkbox=t),rules:[t=>!!t||"You must agree to continue!"],label:"Do you agree?",required:""},null,8,["modelValue","rules"]),h("div",L,[a(l,{color:"success",class:"mt-4",block:"",onClick:m.login},{default:i(()=>[f(" Login ")]),_:1},8,["onClick"])])]),_:1},512)]),_:1})]),_:1})]),_:1}),a(w,{modelValue:e.snack,"onUpdate:modelValue":o[4]||(o[4]=t=>e.snack=t),timeout:5e3,color:e.snackColor,location:"top right"},{default:i(()=>[f(q(e.snackText),1)]),_:1},8,["modelValue","color"])]),_:1})}const B=V(C,[["render",R]]);export{B as default};
